const t="8/8/8/8/8/8/8/8 w - - 0 1";function n(t){const n=t.split(" ")[0];return 1===(n.match(/k/g)||[]).length&&1===(n.match(/K/g)||[]).length}function e(t){const n=t.substr(t.length-4);return{white:parseInt(n[3],10),black:parseInt(n[1],10)}}function r(t){if(t){const{color:n}=f(t);return"w"===n?"white":"black"}return"white"}function u(t){if(t){const{color:n,moves:e}=f(t);return 2*e-("w"===n?2:1)}return 0}function s(t){return"w"===t.split(" ")[1]?"white":"black"}function i(t,n="standard"){const e=t.split(/\s+/),r=e[0].split("/");return"threeCheck"===n?function(t,n){if(7!==t.length)return!1;if(8!==n.length)return!1;return!0}(e,r)&&c(e)&&l(r):"crazyhouse"===n?function(t,n){if(6!==t.length)return!1;if(9!==n.length)return!1;return!0}(e,r)&&c(e)&&function(t){for(let n=0;n<t.length-1;n++){let e=0,r=!1;for(let u=0;u<t[n].length;u++)if(isNaN(Number(t[n][u]))){if(!/^[prnbqkPRNBQK]$/.test(t[n][u]))return!1;e+=1,r=!1}else{if(r)return!1;e+=parseInt(t[n][u],10),r=!0}if(8!==e)return!1}return!0}(r):function(t,n){if(6!==t.length)return!1;if(8!==n.length)return!1;return!0}(e,r)&&c(e)&&l(r)}function l(t){for(let n=0;n<t.length;n++){let e=0,r=!1;for(let u=0;u<t[n].length;u++)if(isNaN(Number(t[n][u]))){if(!/^[prnbqkPRNBQK]$/.test(t[n][u]))return!1;e+=1,r=!1}else{if(r)return!1;e+=parseInt(t[n][u],10),r=!0}if(8!==e)return!1}return!0}function c(t){return!(isNaN(Number(t[5]))||parseInt(t[5],10)<=0)&&(!(isNaN(Number(t[4]))||parseInt(t[4],10)<0)&&(!!/^(-|[abcdefgh][36])$/.test(t[3])&&(!!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(t[2])&&!!/^(w|b)$/.test(t[1]))))}function f(t){const n=t.split(" ");return{color:n[1],castles:{K:n[2].includes("K"),Q:n[2].includes("Q"),k:n[2].includes("k"),q:n[2].includes("q")},enpassant:n[3],halfmove:Number(n[4]),moves:Number(n[5])}}export{u as a,n as b,s as c,t as e,r as p,e as r,i as v};
