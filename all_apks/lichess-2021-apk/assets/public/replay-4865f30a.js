import{ba as e,ap as t,g as a,m as o,aZ as n,ah as s,o as i,a_ as r}from"./main.js";function l(t){t&&e((()=>{const e=t.querySelector(".current");e&&(t.scrollTop=e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)}))}function u(t){t&&e((()=>{const e=t.querySelector(".current");e&&(t.scrollLeft=e.offsetLeft-t.offsetWidth/2+e.offsetWidth/2)}))}function c(e){const a=e.target;return"MOVE"===a.tagName?a:t(a,"move")}function f(e,t){const a=c(t);a&&a.dataset.ply&&e.jump(Number(a.dataset.ply))}let m;function p(e){m=e}function d(e){return m=void 0===m?a.game.pieceNotation():m,!e.vm.moveList||e.isZen()?null:o("div.replay.box",{className:s({displayPieces:!!m}),oncreate:t=>{setTimeout((()=>l(t.dom)),100),i((t=>f(e,t)),void 0,c)(t)},onupdate:e=>l(e.dom)},y(e))}function v(e){return m=void 0===m?a.game.pieceNotation():m,e.vm.moveList?o("div.replay_inline",{className:s({displayPieces:!!m,hidden:e.isZen()}),oncreate:t=>{setTimeout((()=>u(t.dom)),100),r((t=>f(e,t)),void 0,c)(t)},onupdate:e=>u(e.dom)},y(e)):null}function y(e){return e.data.steps.filter((e=>null!==e.san)).map((t=>{return o("move.replayMove",{className:t.ply===e.vm.ply?"current":"","data-ply":t.ply},[1&t.ply?(a=t.ply,s=!0,o("index",g(a,s))):null,n(t.san)]);var a,s}))}function g(e,t){return function(e){return Math.floor((e-1)/2)+1}(e)+(t?e%2==1?".":"...":"")}export{d as a,l as b,u as c,p as d,c as g,f as o,v as r};
