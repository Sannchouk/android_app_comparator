const t="8/8/8/8/8/8/8/8 w - - 0 1";function e(t){const e=t.split(" ")[0];return 1===(e.match(/k/g)||[]).length&&1===(e.match(/K/g)||[]).length}function n(t){if(t){const{color:e}=c(t);return"w"===e?"white":"black"}return"white"}function r(t){if(t){const{color:e,moves:n}=c(t);return 2*n-("w"===e?2:1)}return 0}function u(t){return"w"===t.split(" ")[1]?"white":"black"}function s(t,e="standard"){const n=t.split(/\s+/),r=n[0].split("/");return"threeCheck"===e?function(t,e){if(7!==t.length)return!1;if(8!==e.length)return!1;return!0}(n,r)&&l(n)&&i(r):"crazyhouse"===e?function(t,e){if(6!==t.length)return!1;if(9!==e.length)return!1;return!0}(n,r)&&l(n)&&function(t){for(let e=0;e<t.length-1;e++){let n=0,r=!1;for(let u=0;u<t[e].length;u++)if(isNaN(Number(t[e][u]))){if(!/^[prnbqkPRNBQK]$/.test(t[e][u]))return!1;n+=1,r=!1}else{if(r)return!1;n+=parseInt(t[e][u],10),r=!0}if(8!==n)return!1}return!0}(r):function(t,e){if(6!==t.length)return!1;if(8!==e.length)return!1;return!0}(n,r)&&l(n)&&i(r)}function i(t){for(let e=0;e<t.length;e++){let n=0,r=!1;for(let u=0;u<t[e].length;u++)if(isNaN(Number(t[e][u]))){if(!/^[prnbqkPRNBQK]$/.test(t[e][u]))return!1;n+=1,r=!1}else{if(r)return!1;n+=parseInt(t[e][u],10),r=!0}if(8!==n)return!1}return!0}function l(t){return!(isNaN(Number(t[5]))||parseInt(t[5],10)<=0)&&(!(isNaN(Number(t[4]))||parseInt(t[4],10)<0)&&(!!/^(-|[abcdefgh][36])$/.test(t[3])&&(!!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(t[2])&&!!/^(w|b)$/.test(t[1]))))}function c(t){const e=t.split(" ");return{color:e[1],castles:{K:e[2].includes("K"),Q:e[2].includes("Q"),k:e[2].includes("k"),q:e[2].includes("q")},enpassant:e[3],halfmove:Number(e[4]),moves:Number(e[5])}}export{r as a,e as b,u as c,t as e,n as p,s as v};
