const e=/&/g,t=/</g,n=/>/g,r=/'/g,a=/"/g,c=/[&<>"']/;function l(l){const u=(g=l,c.test(String(g))?g.replace(e,"&amp;").replace(t,"&lt;").replace(n,"&gt;").replace(r,"&apos;").replace(a,"&quot;"):g);var g;return u.replace(s,i).replace(p,o)}const p=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:(?:https?):\/\/|lichess\.org\/)[-A-Z0-9+\u0026\u2019@#/%?=()~_|!:,.;]*[-A-Z0-9+\u0026@#/%=~()_|])/gi;function o(e,t,n){if(-1!==n.indexOf("&quot;"))return e;return t+`<a class="external_link" onClick="window.open('${0===n.indexOf("http")?n:"https://"+n}', '_blank')">${n.replace(/^(?:https:\/\/)?(.+)$/,"$1")}</a>`}const s=/(^|[^\w@#/])@([\w-]{2,})/g;function i(e,t,n){return n.length>20?e:t+`<a href="?/@/${n}">@${n}</a>`}export{l};
