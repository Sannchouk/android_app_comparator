import{r as t,n as e,m as o,g as n,K as r,C as a}from"./main.js";function s(t){if("offline_otb"===t.data.game.id){const e=t.chessground.state;if("white"===e.orientation&&"black"===t.player()||"black"===e.orientation&&"white"===t.player())return"rotate(180deg)"}return""}function i(t,i=e){if(!t.promoting)return null;const c=["queen","knight","rook","bishop"];return"antichess"===t.data.game.variant.key&&c.push("king"),o("div.overlay.open",{oncreate:a((()=>i(t)))},[o("div#promotion_choice",{className:n.general.theme.piece(),style:{top:(r().vh-100)/2+"px"}},c.map((e=>o("piece."+e+"."+t.player(),{style:{transform:s(t)},oncreate:a((()=>function(t,e){const o=t.promoting;o&&(t.chessground.promote(o.dest,e),o.callback(o.orig,o.dest,e)),t.promoting=null}(t,e)))}))))])}var c={start:function(e,o,n,r){const a=e.chessground.state.pieces.get(n);return!(!a||"pawn"!==a.role||!("1"===n[1]&&"white"===e.chessground.state.turnColor||"8"===n[1]&&"black"===e.chessground.state.turnColor))&&(e.promoting={orig:o,dest:n,callback:r},t(),!0)},cancel:function(e,o){e.promoting&&(e.promoting=null,o&&e.chessground.set(o),t())},view:i};export{c as p,i as v};
